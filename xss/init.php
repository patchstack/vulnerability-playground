<?php

add_shortcode( 'custom_link', 'custom_link_callback' );

function custom_link_callback( $atts ) {
	$atts = shortcode_atts( array(
		'url' => '/',
		'class' => 'none',
        'text' => 'link'
	), $atts);

	return "<a href='" . esc_url($atts["url"]) . "' class='" . $atts["class"] . "'>" . $atts["text"] . "</a>";

}

add_action( 'init', 'register_blocks' );

function register_blocks() {
    register_block_type( 'vulnerability-playground/custom-heading', array(
        'render_callback' => 'custom_heading_block'
    ) );

}

function custom_heading_block( $attributes, $content ) {
    return sprintf(
        '<%1$s>%2$s</%1$s>',
        $attributes["heading-tag"],
        $attributes["content"]
    );
}

function init_plugin_success() {
    $class = 'notice notice-success';
    if(isset($_GET["message"])){
        $message = $_GET["message"];
    }
    else{
        $message = "plugin activation success";
    }
    
    printf( '<div class="%1$s"><p>%2$s</p></div>', esc_attr( $class ), $message );
}

add_action( 'admin_notices', 'init_plugin_success' );

?>